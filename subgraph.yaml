specVersion: 0.0.1
description: Humanity on Ethereum
repository: https://github.com/marbleprotocol/humanity-subgraph
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: Humanity
    network: mainnet
    source:
      address: '0xbbd1706d16418bb136e1497a73d3af4164586da0'
      abi: Humanity
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.2
      language: wasm/assemblyscript
      entities:
        - User
      abis:
        - name: Humanity
          file: ./abis/Humanity.json
      eventHandlers:
        - event: Transfer(address,address,uint256)
          handler: handleTransfer
#        - event: Approval(address,address,uint256)
#          handler: handleApproval
      file: ./src/humanity.ts
  - kind: ethereum/contract
    name: HumanityGovernance
    network: mainnet
    source:
      address: '0xdd806c4fdad2949a97fda79036cfbb8750181b37'
      abi: HumanityGovernance
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.2
      language: wasm/assemblyscript
      entities:
        - Proposal
        - Vote
      abis:
        - name: HumanityGovernance
          file: ./abis/HumanityGovernance.json
      eventHandlers:
        - event: Execute(uint256)
          handler: handleExecute
        - event: Propose(uint256,address,address,bytes)
          handler: handlePropose
        - event: RemoveVote(uint256,address)
          handler: handleRemoveVote
        - event: Terminate(uint256)
          handler: handleTerminate
        - event: Vote(uint256,address,bool,uint256)
          handler: handleVote
      file: ./src/humanityGovernance.ts
  - kind: ethereum/contract
    name: TwitterHumanityApplicant
    network: mainnet
    source:
      address: '0x9d661f7773be14439b4223f5b516bc7ef67b0369'
      abi: TwitterHumanityApplicant
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.2
      language: wasm/assemblyscript
      entities:
        - TwitterApplication
      abis:
        - name: TwitterHumanityApplicant
          file: ./abis/TwitterHumanityApplicant.json
      eventHandlers:
        - event: Apply(uint256,address,string)
          handler: handleApply
      file: ./src/twitterApplicant.ts

